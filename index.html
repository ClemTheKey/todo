<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ToDo Gamifié</title>
</head>
<body>
  <h1>ToDo Gamifié</h1>
  <div id="taskList"></div>
  <div id="profile"></div>
  <script>
    const grouped = {
      Sport: [{ task: { name: 'Courir', type: 'daily', category: 'Sport', points: 10, done: false }, index: 0 }]
    };

    const taskListEl = document.getElementById('taskList');
    Object.keys(grouped).forEach(cat => {
      const catHeader = document.createElement('h2');
      catHeader.textContent = cat;
      taskListEl.appendChild(catHeader);

      grouped[cat].forEach(({ task, index }) => {
        const li = document.createElement('li');
        const checkbox = document.createElement('input');
        checkbox.type = 'checkbox';
        checkbox.checked = task.done;
        checkbox.addEventListener('change', () => console.log('toggle', index));

        const deleteBtn = document.createElement('button');
        deleteBtn.textContent = 'X';
        deleteBtn.onclick = () => console.log('delete', index);

        li.appendChild(checkbox);
        li.append(`${task.name} (${task.type}, ${task.category}) [+${task.points} XP]`);
        li.appendChild(deleteBtn);
        taskListEl.appendChild(li);
      });
    });
  </script>
</body>
</html>
